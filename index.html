<head>
    <style type="text/css">
        body {
            background-color: black;
            color: white;
            font-family: "Lucida Console";
            text-align: center;
        }
        #content {
            text-align: left;
        }
        div {
            padding: 2px;
        }
    </style>
<body>
    <div id="content">
        <div style="width: 1000px;">
            <div id="score3" style="float: right;"></div>
            <div id="score1"></div>
        </div>
        <canvas id="main" width=1000 height=700 style="border: solid 1px black;">
        Your browser sucks.
        </canvas>
        <div style="width: 1000px;">
            <div id="score2" style="float: right;"></div>
            <div id="score4"></div>
        </div>
    </div>

</body>

<script type="text/javascript" src="jquery-2.0.2.js"></script>
<script type="text/javascript" src="snake.js"></script>
<script type="text/javascript" src="zatacka.js"></script>

<script type="text/javascript">


var canvas = $('#main').get(0);
var ctx = canvas.getContext("2d");

var clearCanvas = function() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 10;
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(0, canvas.height);
    ctx.lineTo(canvas.width, canvas.height);
    ctx.lineTo(canvas.width, 0);
    ctx.closePath();
    ctx.stroke();
}

var players = [];
var snakes;
var snakes_alive = 0;
var snake_died = 0;

preparePlayers();
window.addEventListener('keyup', function(event){Key.onKeyup(event);}, false);
window.addEventListener('keydown', function(event){Key.onKeydown(event);}, false);

var startAnimation = function(){
    var animFrame = window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame    ||
            window.oRequestAnimationFrame      ||
            window.msRequestAnimationFrame     ||
            null ;

    if ( animFrame !== null ) {

        var recursiveAnim = function() {
            mainloop();
            animFrame( recursiveAnim, canvas );
        };

        // start the mainloop
        animFrame( recursiveAnim, canvas );
    } else {
        var ONE_FRAME_TIME = 1000.0 / 60.0 ;
        setInterval( mainloop, ONE_FRAME_TIME );
    }
};


var startGame = function(){
    clearCanvas();
    prepareSnakes();
}

$(document).ready(function() {
    startAnimation();
    startGame();
});
</script>
